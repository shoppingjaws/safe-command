# safe-command Configuration Example
#
# This file defines which commands can be executed through safe-command.
# By default, ALL commands are DENIED unless explicitly allowed here.
#
# Copy this file to:
#   - ./safe-command.yaml (project root, recommended)
#   - ~/.config/safe-command/safe-command.yaml (global)

commands:
  # AWS CLI command patterns
  aws:
    patterns:
      # ============================================
      # Read-only operations (推奨: AIエージェント向け)
      # ============================================

      # 汎用的な読み取りコマンド
      - "* list-*"      # 任意のサービスの list- コマンド (例: s3 list-buckets, ec2 list-instances)
      - "* get-*"       # 任意のサービスの get- コマンド (例: s3 get-object, ssm get-parameter)
      - "* describe-*"  # 任意のサービスの describe- コマンド (例: ec2 describe-instances)

      # S3 読み取り操作
      - "s3 ls*"        # バケット/オブジェクト一覧 (例: s3 ls, s3 ls s3://my-bucket)

      # Identity 確認
      - "sts get-caller-identity"  # 現在のIAMユーザー/ロール確認

      # CloudWatch Logs
      - "logs filter-*" # ログのフィルタリング

      # ============================================
      # 書き込み操作 (慎重に使用してください)
      # ============================================
      # 以下は書き込みコマンドの例です
      # 必要な場合のみコメントアウトを解除してください

      # S3 書き込み操作
      # - "s3 cp*"      # S3へのファイルコピー
      # - "s3 sync*"    # S3とのファイル同期
      # - "s3 rm*"      # S3からのファイル削除

      # EC2 操作
      # - "ec2 start-instances*"    # EC2インスタンス起動
      # - "ec2 stop-instances*"     # EC2インスタンス停止
      # - "ec2 run-instances*"      # 新しいEC2インスタンス起動

      # Lambda 操作
      # - "lambda invoke*"          # Lambda関数の実行

      # ============================================
      # 危険な操作 (本番環境では絶対に許可しないでください)
      # ============================================
      # - "* delete-*"  # リソースの削除
      # - "* remove-*"  # リソースの削除
      # - "* terminate-*"  # リソースの終了

# ============================================
# Multi-Command Support (Phase 2+)
# ============================================
# safe-command supports multiple command-line tools.
# Use 'safe-command init --template <name>' for quick setup.
#
# Available templates:
#   - aws-readonly: AWS read-only operations
#   - aws-dev: AWS development operations
#   - kubernetes: Kubernetes operations
#   - terraform: Terraform operations
#   - docker: Docker operations
#   - multi-command: Multiple tools combined
#
# Example configurations:
#
# kubectl:
#   patterns:
#     - "get *"
#     - "describe *"
#     - "logs *"
#
# terraform:
#   patterns:
#     - "plan*"
#     - "show*"
#     - "state list*"
#
# docker:
#   patterns:
#     - "ps*"
#     - "images*"
#     - "logs *"
#
# gh:
#   patterns:
#     - "repo view*"
#     - "issue list*"
#
# gcloud:
#   patterns:
#     - "* list*"
#     - "* describe*"
#
# git:
#   patterns:
#     - "status*"
#     - "log*"
#     - "diff*"
